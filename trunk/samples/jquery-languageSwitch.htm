<!--
* @author Skitsanos
* @version 1.0
* @date Mar 14, 2010 12:15:51 PM
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
	<title>Language Switch demo</title>
	<meta name="author" content="Skitsanos.com"/>
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.0/jquery-ui.min.js"></script>
	<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.0/themes/blitzer/jquery-ui.css" type="text/css" media="screen"/>
	<script type="text/javascript">
		var app = {
			events: {
				CHANGE_LANGUAGE: 'jQueryChangeLanguageEvent'
			}
		};

		var Messages = {
			OK: 'OK',
			CANCEL: 'Cancel',
			YES: 'Yes',
			NO: 'No'
		};

		$(function() {
			$('#btnExec').live('click', function() {
				$(document).trigger({
					type: app.events.CHANGE_LANGUAGE,
					language: 'gr'
				});
			});

			$(document).bind(app.events.CHANGE_LANGUAGE, function(e) {
				//load language file
				$.getJSON('messages.' + e.language + '.js', function(data) {
					console.log(data);

					/*
					$('*[key]').each(function(ndx) {
										});
					*/
				});
			});
		});
	</script>
</head>
<body>
<div>
	<span key="Messages.OK">OK</span>
	<button id="btnExec">Exec()</button>
</div>

</body>
</html>